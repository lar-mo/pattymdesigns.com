function scrollFunction(){document.body.scrollTop>50||document.documentElement.scrollTop>50?($("#header").css("padding","0px"),$("#header").css("box-shadow","0 10px 30px 5px rgba(25,25,25,0.6)"),$("#header").css("-moz-box-shadow","0 10px 30px 5px rgba(25,25,25,0.6)"),$("#header").css("-webkit-box-shadow","0 10px 30px 5px rgba(25,25,25,0.6)")):(window.innerWidth>800?$("#header").css("padding","24px"):window.innerWidth>576&&window.innerWidth<801?$("#header").css("padding","10px"):window.innerWidth>501&&window.innerWidth<575?$("#header").css("padding","5px"):window.innerWidth<500&&$("#header").css("padding","0px"),$("#header").css("box-shadow",""),$("#header").css("-moz-box-shadow",""),$("#header").css("-webkit-box-shadow",""))}window.onscroll=function(){scrollFunction()},$(window).scroll(function(){$("#header").css("background-color","rgba(255,255,255,"+(.85+$(window).scrollTop()/300)+")")});const cachebuster=Math.floor(Date.now()/1e3),pmd_api_url="https://api.pattymdesigns.com/wrapper/pmdv3ProdGetStrings/?"+cachebuster;var now=new Date;function getStringsFromLocalStorage(){var e=localStorage.getItem("all_pmd_strings");try{if(e){var o=window.localStorage.dateTimeStamp,t=new Date(o);t.setHours(t.getHours()+1),console.log(`last_modified ${o}`),console.log(`expires ${t}`),console.log(`now ${now}`),t>now?(parseJson(e),console.log("Loading data from Local Storage")):(getStringsFromApi(e),console.log("Expired: Fetch from Api"))}else getStringsFromApi(e),console.log("First Visit: Fetch from Api")}catch(o){getStringsFromApi(e),console.error("Error: Fetch from Api")}}var getStringsFromApi=async function(e){const o=await axios.get(pmd_api_url).catch(o=>{console.error("Error: Unable to reach Api"),console.error(o),console.log("Loading stale data from Local Storage"),parseJson(e)});if(o.data[0]){let e=JSON.stringify(o.data);parseJson(e),console.log("Loading data from Api"),saveStringsToLocalStorage(e),window.localStorage.dateTimeStamp=now,console.log(`new timestamp ${now}`);var t=new Date(now);t.setHours(t.getHours()+1),console.log(`expires ${t}`)}else console.error("API returned error. No data in LocalStorage."),console.error(`Error: ${o.data.detail}`)};function saveStringsToLocalStorage(e){JSON.parse(e);localStorage.setItem("all_pmd_strings",e)}function parseJson(e){let o=window.location.search.substring(1),t=JSON.parse(e);var n={};for(let e=0;e<t.length;++e){let a=t[e].location;if("es"==o)var r=t[e].string_es;else if("fr"==o)r=t[e].string_fr;else if("de"==o)r=t[e].string_de;else r=t[e].string_en;n[a]=r}try{privacy&&(document.querySelector("#header-link-portfolio").innerHTML=n["header-link-portfolio"],document.querySelector("#header-link-about-shop").innerHTML=n["header-link-about-shop"],document.querySelector("#header-link-about-me").innerHTML=n["header-link-about-me"])}catch{Object.entries(n).forEach(([e,o])=>{try{document.querySelector("#"+e).innerHTML=o}catch{console.log("skipping..."+e)}})}document.querySelector("#pancake-link-portfolio").innerHTML=n["header-link-portfolio"],document.querySelector("#pancake-link-about-shop").innerHTML=n["header-link-about-shop"],document.querySelector("#pancake-link-about-me").innerHTML=n["header-link-about-me"],document.querySelector("#pancake-link-contact").innerHTML=n["header-link-contact"],$('meta[property="og:title"]').attr("content",n.og_title),$('meta[property="og:description"]').attr("content",n.og_description),$("meta[name=description]").attr("content",n.og_description),$("meta[name=keywords]").attr("content",n.meta_keywords),showContent(),loadFlickrScript()}function showContent(){$("#container").fadeTo("slow",1),$(".featured-item").fadeTo("slow",1),$("#loading").fadeTo("slow",0),$("#loading-hero").fadeTo("slow",0),$("#loading-hero").css("display","none")}function loadFlickrScript(){var e=document.createElement("script");e.src="js/flickr.js",document.getElementsByTagName("head")[0].appendChild(e)}function openNav(){document.getElementById("mobile_nav").style.width="100%"}function closeNav(){document.getElementById("mobile_nav").style.width="0%"}
